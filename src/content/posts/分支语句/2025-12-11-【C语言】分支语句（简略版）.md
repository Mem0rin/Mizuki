---
title: 【C语言】分支语句（简略版）
published: 2025-12-11
pinned: false
description: 分支语句的简单介绍
tags: [C]
category: C
licenseName: "MIT"
author: Mem0rin
sourceLink: "https://blog.csdn.net/2501_93882415/article/details/155807966?spm=1001.2014.3001.5502"
draft: false
date: 2025-12-11
image: "./cover.jpg"
pubDate: 2025-12-11
permalink: "encrypted-example"
---



由于本人有一定的编程基础，因此会简略基础的语法的介绍，主要整理的是与python语法有所不同的部分。

分支语句主要分为两部分：`if`语句和`switch`语句，也会介绍条件操作符（三目运算符）
# **目录：**
[TOC]

## 1.if语句

### 基本格式：

```c
if (expression)
    statement
else if(expression)//if条件不成立
    statement
else//上面两个条件表达式都不成立
    statement
```

例如如下代码

```c
#define _CRT_SECURE_NO_WARNINGS 1
#include<stdio.h>

/*
Read A and print whether A is negative, positive or zero.

>>>1
a is positive
>>>-1
a is negative
>>>0
a is zero
*/
int main() {
	int a;
	scanf("%d", &a);
	if (a < 0)
		printf("a is negative\n");
	else if (a > 0)
		printf("a is positive\n");
	else
		printf("a is zero\n");
    return 0;

}
```

如果`if`语句之后需要执行多句语句，则需要用大括号把语句都括起来，否则就始终会执行。

```c
#define _CRT_SECURE_NO_WARNINGS 1
#include<stdio.h>


int main() {
	int a;
	scanf("%d", &a);
	if (a < 0)
		printf("a is negative\n");
		printf("This line is always printed\n");
	else if (a > 0) {
		printf("a is positive\n");
		printf("This line is not always printed\n");
	}
	else
		printf("a is zero\n");
    return 0;

}
```

`if`语句可以嵌套：

```c
#define _CRT_SECURE_NO_WARNINGS 1
#include<stdio.h>

/*
Read A's age and print whether A is a child or an adult.

>>>18
a is an adult
>>>5
a is a child
>>>0
a is a child
>>>-3
Error: Age cannot be negative.
*/
int main() {
	int a;
	scanf("%d", &a);
	if (a >= 0) {
		if (a < 18) {
			printf("a is a child\n");
		}
		else {
			printf("a is an adult\n");
		}
	}
	else 
		printf("Error: Age cannot be negative.\n");
    return 0;
}
```

### 悬空else的匹配原则：

由于C语言对缩进没有硬性要求，所以else会和上文最近的if语句匹配而不是同一缩进的语句。

```c
#define _CRT_SECURE_NO_WARNINGS 1
#include<stdio.h>


int main() {
	int a;
	scanf("%d", &a);
	if (a >= 0) 
		if (a < 18) 
			printf("a is a child\n");
		
	else 
		printf("Error: Age cannot be negative.\n");
    return 0;
}

/*
>>>18
Error: Age cannot be negative.
*/
```

因为此时else匹配的if是`if (a < 18)`。

如果有大括号就不用考虑这个问题了，`else`不会冲进大括号里匹配`if`的。

## 2. switch语句（多条分支）

相当于把多个`else if`简略了。

基本用法：

```c
switch (expression)
{
    case value1: statement
    case value2: statement
    ...
    default: statement
}
```

会根据`expression`的值执行不同的`case`分支，如果输入的值都不符合`case`的条件，可以按照需求选择是否使用`default`语句。但和`else`语句不同的是，`default`语句的位置并没有要求，放在`switch`语句最前面也是可以的。

需要注意的是，`expression`语句必须是整型表达式。

`case`和后面的数字之间要有空格。即`case 0：`而不是`case0 ：`

例：

```c
#include <stdio.h>
int main()
{
    int n = 0;
    scanf("%d", &n);
    switch(n % 3)
    {
        case 0:
            printf("整除，余数为0\n");
            break;
        case 1:
            printf("余数是1\n");
            break;
        case 2:
            printf("余数是2\n");
            break;
        default:
            printf("Error");
    }
    return 0;
}

/*
>>>3
整除，余数为0
>>>4
余数是1
>>>5
余数是2
*/
```

但是如果删掉`break`的话，代码会继续往下执行，可能会执行其他`case`语句的代码，比如我删掉`break`之后，输入1结果如下：

```c
>>>1
余数是1
余数是2
```



利用这个性质我们还可以对不同分支的相同输出作简化。比如如果要判断今天是不是周末，可以这么写

```c
#define _CRT_SECURE_NO_WARNINGS 1
#include <stdio.h>
int main()
{
	int day = 0;
	scanf("%d", &day);
	switch (day)
	{
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
			printf("工作日\n");
			break;
		case 6:
		case 7:
			printf("周末\n");
			break;
	}
	return 0;
}

/*
>>>3
工作日
>>>6
周末
*/
```

这是因为`case 3`条件满足之后，会一路往下执行，然后就会把`case 5`的语句执行了，因此1到5都有共同的输出值。

## 3. 条件操作符

也叫三目表达式，形式为

```c
expression1?expression2:expression3
```

例如

```c
#define _CRT_SECURE_NO_WARNINGS 1
#include <stdio.h>
int main()
{
	int a = 0;
	int b = 0;
	b = (a ? 3 : 5);
	printf("%d %d", a, b);
	return 0;
}

/*
>>> 0 5
*/
```

三目操作符也可以嵌套：

```c
#define _CRT_SECURE_NO_WARNINGS 1
#include <stdio.h>
int main()
{
	int a, b, c, max;
	scanf("%d %d %d", &a, &b, &c);
	max = (a > b) ? ((a > c) ? a : c) : ((b > c) ? b : c);
	printf("max = %d", max);
	return 0;
}

/*
>>>3 2 1
max = 3
>>>1 2 3
max = 3
*/
```

虽然很简洁，但是会降低代码的可读性，慎重使用。

在输出的时候也可以用，例如：

```c
printf("The string \"%s\" is %s\n", str,
        (strcmp(str, "Hello") == 0) ? "a greeting" : "not a greeting");
```

三目运算符给我一种lambda函数的感觉，把几行的def语句压缩成一行。

下期讲循环结构。

---
